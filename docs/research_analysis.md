# スマホからのリモート開発ソリューション：リサーチ結果の統合分析

## 1. はじめに

本ドキュメントは、8つのカテゴリにわたる包括的リサーチの結果を統合・分析し、「スマートフォンからCursor開発環境を監視・操作するアプリケーション」の実現に向けた最適なソリューションの方向性を定めることを目的とする。

## 2. 3つの主要アプローチ

リサーチの結果、実現方法は大きく3つのアプローチに分類できることが判明した。

| アプローチ | 概要 | 長所 | 短所 | 代表的な技術・ツール |
|:---|:---|:---|:---|:---|
| **A. 画面転送型** | PCのデスクトップ画面をそのままモバイルにストリーミングする。 | ・Cursorの全機能をそのまま利用可能<br>・既存のUIや機能を100%活用<br>・実装が比較的容易（既存ツール利用） | ・モバイルのUI/UXに最適化されていない<br>・タッチ操作では生産性が低い<br>・データ通信量が多い<br>・常時ストリーミングによるバッテリー消費 | Chrome Remote Desktop, AnyDesk, RustDesk, Parsec, WebRTC, VNC |
| **B. Web IDE型** | `code-server`等をPCで実行し、Webブラウザ（PWA）経由でアクセスする。 | ・モバイルに最適化されたUI<br>・テキストベースでデータ通信量が少ない<br>・PWAによりアプリに近い体験が可能 | ・Cursor固有のUIや機能が利用できない<br>・あくまで「VSCode」の操作になる<br>・PC側でのサーバーセットアップが必須 | VSCode Remote Tunnels, code-server, GitHub Codespaces, Coder |
| **C. API/ファイル連携型** | PC上で動作するエージェントとAPIやファイルシステムを介して通信する。 | ・UIを完全にモバイルに最適化可能<br>・必要な情報のみを送受信し効率的<br>・ワークフローの自動化が容易 | ・カスタム開発の範囲が最も広い<br>・Cursorの内部状態を完全に取得できない<br>・リアルタイム性に限界がある場合も | Slack/Discord Bot, GitHub Mobile, `progress.md`監視, カスタムAPIサーバー |

## 3. 技術スタックの選定

上記アプローチを組み合わせ、理想のアプリケーションを構築するための核心的な技術スタックは以下のように考えられる。

1.  **セキュアな接続基盤**: **Tailscale** または **WireGuard**
    *   **理由**: P2Pのセキュアなトンネルを容易に構築でき、PCとモバイル間の通信を保護する。特にTailscaleはセットアップが非常に簡単で、MagicDNS機能によりIPアドレスを意識せずに済むため、本プロジェクトの基盤として最適である。

2.  **コアな開発体験**: **code-server (VSCode in Browser)**
    *   **理由**: VSCode Remote TunnelsやGitHub Codespacesの調査結果から、Webブラウザ上でVSCode環境を再現するアプローチが最も成熟しており、モバイルでの開発体験と機能性のバランスが取れていることが判明した。これにより、ターミナル操作、ファイル編集、デバッグといったコアな開発作業が可能になる。

3.  **リアルタイムな画面共有（補助）**: **WebRTC**
    *   **理由**: `code-server`では再現できないCursor固有のUI（AIチャットパネルなど）や、GUIアプリケーションの操作が必要な場合に備え、オンデマンドで画面の一部をストリーミングする機能としてWebRTCは有効である。汎用リモートデスクトップと異なり、必要な部分だけを低遅延で転送できるため、効率的である。

4.  **監視と通知**: **カスタムAPIサーバー + WebSocket**
    *   **理由**: SlackやGitHub Mobileの調査から、プッシュ通知による状況把握の重要性が明らかになった。PC上でファイルシステムの変更（`progress.md`など）やプロセスの状態を監視し、WebSocketを通じてモバイルアプリにリアルタイムで通知する軽量なサーバーを立てることで、アプリを常に開いていなくても進捗を追跡できる。

## 4. 結論：推奨するソリューションの方向性

**ハイブリッド型アプローチ**を推奨する。

これは、上記技術スタックを組み合わせ、単一のソリューションに依存するのではなく、それぞれの長所を活かすアーキテクチャである。

-   **基本UI**: モバイルアプリのメイン画面は、**カスタムAPIサーバー**から取得した情報（タスクの進捗、エージェントの状態、通知など）を表示する**監視ダッシュボード**とする。
-   **詳細な操作**: ダッシュボードから特定の機能（例：「ターミナルを開く」「ファイルを編集する」）を選択すると、**Tailscale**で保護されたネットワーク越しにPC上の **`code-server`** に接続し、Webビュー内でVSCodeのインターフェースを操作する。
-   **Cursor固有機能の確認**: どうしても`code-server`では確認できないUIが必要な場合のみ、**WebRTC**によるオンデマンドの画面共有を起動する。

この構成により、「**スマホに最適化された監視体験**」と「**PCと同等の高機能な開発体験**」を両立しつつ、データ通信量やバッテリー消費を抑えることが可能となる。

この分析に基づき、次フェーズで具体的な機能要件を定義する。
